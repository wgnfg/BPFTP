<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             mc:Ignorable="d" d:DesignWidth="800" d:DesignHeight="450"
             x:Class="BPFTP.Views.TransferProgress"
			 xmlns:vm="clr-namespace:BPFTP.ViewModels"
             x:DataType="vm:TransferProgressViewModel">
	<Border Background="{DynamicResource ThemeBackgroundBrush}"
          BorderBrush="Gray"
          BorderThickness="1"
          CornerRadius="5"
          Padding="20" MinWidth="350">
		<StackPanel Spacing="10">
			<TextBlock Text="{Binding Title}" FontSize="18" FontWeight="Bold"/>
			<!--<TextBlock>
				<Run Text="{Binding CurrentFileIndex,UpdateSourceTrigger=PropertyChanged}"/>
				<Run Text="of"/>
				<Run Text="{Binding TotalFileCount}"/>
			</TextBlock>-->
			<TextBlock Text="{Binding CurrentFileName}" TextWrapping="Wrap" HorizontalAlignment="Left"/>
			<StackPanel Orientation="Horizontal" Spacing="10">
				<TextBlock Text="{Binding Percentage,StringFormat='{}{0:F3}%' ,UpdateSourceTrigger=PropertyChanged}" HorizontalAlignment="Center"/>
				<TextBlock Text="{Binding Speed,StringFormat='{}{0:F3}MB/S' ,UpdateSourceTrigger=PropertyChanged}" HorizontalAlignment="Center"/>
				<Grid HorizontalAlignment="Left" Width="{Binding Percentage,UpdateSourceTrigger=PropertyChanged}" Background="Red" Height="20"/>
			</StackPanel>
			<TextBlock Text="{Binding ErrorMessage}" Foreground="Red" IsVisible="{Binding IsError}"/>
			<Button Content="取消" Command="{Binding Cancel}"/>
		</StackPanel>
	</Border>
</UserControl>
